(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,a,t){e.exports=t(37)},26:function(e,a,t){},37:function(e,a,t){"use strict";t.r(a);t(20);var n=t(0),l=t.n(n),r=t(15),c=t.n(r),m=t(8),o=t(6),s=t(3),i=(t(26),function(e){var a=e.payments.filter(function(e,a){return a>0&&(e.balance>0||e.interestYearly>0)}).reduce(function(e,a,t){return{interestTotal:e.interestTotal+a.interestYearly,overpaymentTotal:e.overpaymentTotal+a.overpayment,rows:[].concat(Object(m.a)(e.rows),[[a.partial?a.partial+"m":t+1,Math.round(a.interestYearly||0),Math.round(a.overpayment),Math.round(a.balance)]])}},{interestTotal:0,overpaymentTotal:0,rows:[]});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Years"),l.a.createElement("th",null,"Interest"),l.a.createElement("th",null,"Overpayment"),l.a.createElement("th",null,"Balance"))),l.a.createElement("tbody",null,a.rows.map(function(e,a){return l.a.createElement("tr",{key:a},e.map(function(e,a){return l.a.createElement("td",{key:a},e.toLocaleString())}))})),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Total"),l.a.createElement("td",null,Math.round(a.interestTotal).toLocaleString()),l.a.createElement("td",null,Math.round(a.overpaymentTotal).toLocaleString()),l.a.createElement("td",null))))}),u=t(43),v=t(44),y=t(32),p=t(14),b=(t(35),20),d=80,E=800-d-20,f=300-b-20,h=Object(y.a)().range([0,E]),N=Object(y.a)().range([0,f]),O=Object(v.a)().x(function(e,a){return h(a+(e.partial/12||1)-1)}).y(function(e){return N(e.balance)}),g=Object(v.a)().x(function(e,a){return h(a)}).y(function(e){return N(e.baseline)}),w=function(e){var a=e.payments,t=Object(n.useRef)(null);return Object(n.useEffect)(function(){var e=Object(u.a)(t.current);h.domain([0,a.length-1]),N.domain([a[0].balance,0]),e.select(".x").call(Object(p.a)(h).ticks(Math.min(a.length,30))),e.select(".y").call(Object(p.b)(N)),e.select(".baseline").transition().attr("d",g(a)),e.select(".actual").transition().attr("d",O(a))},[a]),l.a.createElement("svg",{ref:t,height:"100%",width:"100%",viewBox:"0 0 ".concat(800," ").concat(300)},l.a.createElement("g",{transform:"translate(".concat(d,",").concat(b,")")},l.a.createElement("g",{className:"axis x",transform:"translate(0, ".concat(f,")")}),l.a.createElement("g",{className:"axis y"}),l.a.createElement("path",{className:"line baseline"}),l.a.createElement("path",{className:"line actual"})))},j=t(16),x={initial:"200000",rate:"5",years:"25",monthlyOverpayment:"0",overpayments:[{month:"1",year:"0",amount:"0"}]};function M(e,a){e(a);var t,n=new URL(window.location);n.search="?".concat((t=a,decodeURIComponent(window.jQuery.param(t)))),window.history.pushState(a,"",n)}var C=function(){var e,a=Object(s.a)({},x,(e=window.location.search.replace(/^\?/,""),window.jQuery.deparam(e))),t=Object(n.useState)(a),l=Object(j.a)(t,2),r=l[0],c=l[1];return{state:r,setState:c,setInitial:function(e){return M(c,Object(s.a)({},r,{initial:e}))},setRate:function(e){return M(c,Object(s.a)({},r,{rate:e}))},setYears:function(e){return M(c,Object(s.a)({},r,{years:e}))},setMonthlyOverpayment:function(e){return M(c,Object(s.a)({},r,{monthlyOverpayment:e}))},setOverpayments:function(e){return M(c,Object(s.a)({},r,{overpayments:e}))}}};var T=function(){var e=C(),a=e.state,t=e.setInitial,n=e.setRate,r=e.setYears,c=e.setMonthlyOverpayment,u=e.setOverpayments,v=function(e){return function(t){var n=t.target;return u(a.overpayments.map(function(a,t){return t===e?Object(s.a)({},a,Object(o.a)({},n.name,n.value)):a}))}},y=function(e){for(var a,t=e.initial,n=e.years,l=e.rate,r=e.monthlyOverpayment,c=e.overpayments,m=void 0===c?[]:c,o=l/1200,s=0===o?t/n/12:t*o/(1-Math.pow(1/(1+o),12*n)),i=t,u=t,v=[{overpayment:0,balance:i,baseline:u}],y=function(e){for(var t=0,n=0,l=function(l){var c=m.filter(function(a){return+a.year===e&&+a.month===l}).reduce(function(e,a){return e+ +a.amount},0),v=i*o;t+=v,n+=c,u-=s-u*o,(i-=s+r+c-v)<=0&&(i=0,void 0===a&&12!==l&&(a=l))},c=1;c<=12;c++)l(c);v.push({baseline:u,interestYearly:t,balance:i,partial:a,overpayment:n+ +r*(a||12)}),a&&(a=0)},p=0;p<n;p++)y(p);return{monthlyPayment:s,payments:v}}({initial:+a.initial,years:+a.years,rate:+a.rate,monthlyOverpayment:+a.monthlyOverpayment,overpayments:a.overpayments}),p=y.monthlyPayment,b=y.payments;return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar p-2 mb-4"},l.a.createElement("div",{className:"navbar-brand"},"Mortgage Calculator")),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{id:"input-side",className:"col-md-4 col-sm-12"},l.a.createElement("div",{id:"core",className:"mb-4"},l.a.createElement("h2",{className:"pb-2"},"Core"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-sm-12"},l.a.createElement("label",{className:"form-label"},"Amount"),l.a.createElement("input",{maxLength:7,value:a.initial,onChange:function(e){return t(e.target.value)},className:"form-control"})),l.a.createElement("div",{className:"col-md-4 col-sm-12"},l.a.createElement("label",{className:"form-label"},"Years"),l.a.createElement("input",{type:"number",maxLength:2,value:a.years,onChange:function(e){return r(e.target.value)},className:"form-control"})),l.a.createElement("div",{className:"col-md-4 col-sm-12"},l.a.createElement("label",{className:"form-label"},"Rate"),l.a.createElement("input",{type:"number",step:.1,value:a.rate,onChange:function(e){return n(e.target.value)},className:"form-control"})))),l.a.createElement("div",{id:"overpayment"},l.a.createElement("h2",{className:"pb-2"},"Overpayment"),l.a.createElement("div",{className:"row pb-2"},l.a.createElement("label",{className:"col-sm-3 col-form-label"},"Monthly"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"number",maxLength:5,value:a.monthlyOverpayment,onChange:function(e){return c(e.target.value)},className:"form-control"}))),l.a.createElement("div",{className:"row"},l.a.createElement("label",{className:"col-sm-1 col-form-label"},"#"),l.a.createElement("label",{className:"col-sm-3 col-form-label"},"Year"),l.a.createElement("label",{className:"col-sm-3 col-form-label"},"Month"),l.a.createElement("label",{className:"col-sm-3 col-form-label"},"Amount")),a.overpayments.map(function(e,t){var n=e.year,r=e.month,c=e.amount;return l.a.createElement("div",{key:t,className:"row"},l.a.createElement("div",{className:"col-sm-1 col-form-label"},l.a.createElement("label",{className:"btn text-muted"},t+1)),l.a.createElement("div",{className:"col-sm-3 col-form-label"},l.a.createElement("input",{type:"number",min:"0",max:a.years,value:n,name:"year",onChange:v(t),className:"form-control"})),l.a.createElement("div",{className:"col-sm-3 col-form-label"},l.a.createElement("input",{type:"number",min:"1",max:"12",value:r,name:"month",onChange:v(t),className:"form-control"})),l.a.createElement("div",{className:"col-sm-3 col-form-label"},l.a.createElement("input",{type:"text",value:c,name:"amount",onChange:v(t),className:"form-control"})),l.a.createElement("div",{className:"col-sm-2 col-form-label"},t===a.overpayments.length-1?l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return u([].concat(Object(m.a)(a.overpayments),[{}]))}},"\u2295"):l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return u(a.overpayments.filter(function(e,a){return a!==t}))}},"\ud83c\udd67")))}))),l.a.createElement("div",{id:"output-side",className:"col-md-8 col-sm-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("h2",null,"Estimate")),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"font-monospace text-end fs-4 text-primary"},"Monthly payment: ",(+a.monthlyOverpayment+p).toFixed(2)))),l.a.createElement("div",{id:"chart",className:"pb-4"},l.a.createElement(w,{payments:b})),l.a.createElement("div",{id:"table",className:"container"},l.a.createElement("div",{className:"col-8 offset-2"},l.a.createElement(i,{payments:b})))))))};c.a.render(l.a.createElement(T,null),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.db8cefca.chunk.js.map